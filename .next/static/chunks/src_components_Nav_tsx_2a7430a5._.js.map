{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/modica_annisa/Desktop/sammi_portfolio/src/components/Nav.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useCallback } from 'react';\nimport clsx from 'clsx';\nimport Link from 'next/link';\n\nconst navItems = [\n\t{ name: 'Home', href: '#home' },\n\t{ name: 'About', href: '#about' },\n\t{ name: 'Gallery', href: '#gallery' },\n\t{ name: 'CV', href: '#cv' },\n\t{ name: 'Instagram', href: '#instagram', hideOnMobile: true },\n\t{ name: 'Contact', href: '#contact' },\n];\n\nexport default function Nav() {\n\tconst [activeSection, setActiveSection] = useState('home');\n\tconst [isMobile, setIsMobile] = useState(false);\n\n\t// Check if we're on mobile\n\tuseEffect(() => {\n\t\tconst checkMobile = () => {\n\t\t\tsetIsMobile(window.innerWidth < 640); // sm breakpoint\n\t\t};\n\n\t\tcheckMobile();\n\t\twindow.addEventListener('resize', checkMobile);\n\t\treturn () => window.removeEventListener('resize', checkMobile);\n\t}, []);\n\n\t// Memoize the scroll handler to prevent unnecessary re-renders\n\tconst handleScroll = useCallback(() => {\n\t\tconst scrollPosition = window.scrollY + window.innerHeight / 3;\n\t\tlet currentSection = 'home';\n\t\tlet maxVisibility = 0;\n\n\t\t// Find the section that is currently most visible in the viewport\n\t\tnavItems.forEach(({ href }) => {\n\t\t\tconst section = document.querySelector(href);\n\t\t\tif (section) {\n\t\t\t\tconst { top, bottom, height } = section.getBoundingClientRect();\n\t\t\t\tconst offsetTop = top + window.scrollY;\n\t\t\t\tconst offsetBottom = bottom + window.scrollY;\n\t\t\t\tconst viewportHeight = window.innerHeight;\n\n\t\t\t\t// Calculate how much of the section is visible in the viewport\n\t\t\t\tconst visibleTop = Math.max(0, top);\n\t\t\t\tconst visibleBottom = Math.min(viewportHeight, bottom);\n\t\t\t\tconst visibleHeight = visibleBottom - visibleTop;\n\t\t\t\tconst visibilityRatio = visibleHeight / height;\n\n\t\t\t\t// Special handling for gallery section\n\t\t\t\tif (section.id === 'gallery') {\n\t\t\t\t\t// Check if we're in any of the gallery subsections\n\t\t\t\t\tconst galleryCards = document.querySelectorAll(\n\t\t\t\t\t\t'#gallery .gallery-card'\n\t\t\t\t\t);\n\t\t\t\t\tgalleryCards.forEach((card) => {\n\t\t\t\t\t\tconst cardRect = card.getBoundingClientRect();\n\t\t\t\t\t\tconst cardTop = cardRect.top + window.scrollY;\n\t\t\t\t\t\tconst cardBottom = cardRect.bottom + window.scrollY;\n\n\t\t\t\t\t\tif (scrollPosition >= cardTop && scrollPosition < cardBottom) {\n\t\t\t\t\t\t\t// If we're in a gallery subsection, keep gallery as active\n\t\t\t\t\t\t\tcurrentSection = 'gallery';\n\t\t\t\t\t\t\tmaxVisibility = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Special handling for Instagram section on mobile\n\t\t\t\tif (isMobile && section.id === 'instagram') {\n\t\t\t\t\t// On mobile, when in Instagram section, highlight Contact instead\n\t\t\t\t\tif (\n\t\t\t\t\t\tvisibilityRatio > maxVisibility &&\n\t\t\t\t\t\tscrollPosition >= offsetTop &&\n\t\t\t\t\t\tscrollPosition < offsetBottom\n\t\t\t\t\t) {\n\t\t\t\t\t\tcurrentSection = 'contact';\n\t\t\t\t\t\tmaxVisibility = visibilityRatio;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Normal section handling\n\t\t\t\t\tif (\n\t\t\t\t\t\tvisibilityRatio > maxVisibility &&\n\t\t\t\t\t\tscrollPosition >= offsetTop &&\n\t\t\t\t\t\tscrollPosition < offsetBottom\n\t\t\t\t\t) {\n\t\t\t\t\t\tcurrentSection = section.id;\n\t\t\t\t\t\tmaxVisibility = visibilityRatio;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tsetActiveSection(currentSection);\n\t}, [isMobile]);\n\n\tuseEffect(() => {\n\t\t// Set up the Intersection Observer with adjusted margins for better detection\n\t\tconst observer = new IntersectionObserver(\n\t\t\t(entries) => {\n\t\t\t\tentries.forEach((entry) => {\n\t\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\t\t// For gallery section, check if we're in a subsection\n\t\t\t\t\t\tif (entry.target.id === 'gallery') {\n\t\t\t\t\t\t\tconst galleryCards = document.querySelectorAll(\n\t\t\t\t\t\t\t\t'#gallery .gallery-card'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tlet inSubsection = false;\n\n\t\t\t\t\t\t\tgalleryCards.forEach((card) => {\n\t\t\t\t\t\t\t\tconst rect = card.getBoundingClientRect();\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\trect.top <= window.innerHeight / 2 &&\n\t\t\t\t\t\t\t\t\trect.bottom >= window.innerHeight / 2\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tinSubsection = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (inSubsection) {\n\t\t\t\t\t\t\t\tsetActiveSection('gallery');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (isMobile && entry.target.id === 'instagram') {\n\t\t\t\t\t\t\t// On mobile, when Instagram section is visible, highlight Contact\n\t\t\t\t\t\t\tsetActiveSection('contact');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetActiveSection(entry.target.id);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t{\n\t\t\t\trootMargin: '-20% 0px -80% 0px', // Adjusted margins for better detection\n\t\t\t\tthreshold: [0, 0.25, 0.5, 0.75, 1],\n\t\t\t}\n\t\t);\n\n\t\t// Observe all sections\n\t\tnavItems.forEach(({ href }) => {\n\t\t\tconst section = document.querySelector(href);\n\t\t\tif (section) observer.observe(section);\n\t\t});\n\n\t\t// Add scroll event listener with throttling\n\t\tlet ticking = false;\n\t\tconst scrollListener = () => {\n\t\t\tif (!ticking) {\n\t\t\t\twindow.requestAnimationFrame(() => {\n\t\t\t\t\thandleScroll();\n\t\t\t\t\tticking = false;\n\t\t\t\t});\n\t\t\t\tticking = true;\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener('scroll', scrollListener, { passive: true });\n\t\t// Call once on mount to set initial state\n\t\thandleScroll();\n\n\t\treturn () => {\n\t\t\tobserver.disconnect();\n\t\t\twindow.removeEventListener('scroll', scrollListener);\n\t\t};\n\t}, [handleScroll, isMobile]);\n\n\tconst handleClick = (\n\t\te: React.MouseEvent<HTMLAnchorElement>,\n\t\thref: string\n\t) => {\n\t\te.preventDefault();\n\t\tconst section = document.querySelector(href);\n\t\tif (section) {\n\t\t\tsection.scrollIntoView({ behavior: 'smooth' });\n\t\t\tsetActiveSection(href.replace('#', ''));\n\t\t}\n\t};\n\n\treturn (\n\t\t<nav className='fixed top-0 left-0 right-0 z-50 bg-white text-black shadow-md sm:top-6 sm:left-1/2 sm:-translate-x-1/2 sm:right-auto sm:w-auto sm:rounded-full px-4 sm:px-6 py-3 sm:py-2 flex justify-center items-center border-b sm:border-b-0 border-gray-100'>\n\t\t\t<div className='flex gap-2 sm:gap-6 text-sm font-medium max-w-screen-sm sm:max-w-none mx-auto w-full justify-between sm:justify-center'>\n\t\t\t\t{navItems.map(({ name, href, hideOnMobile }) => {\n\t\t\t\t\t// Skip Instagram item on mobile\n\t\t\t\t\tif (hideOnMobile && isMobile) return null;\n\n\t\t\t\t\tconst sectionId = href.replace('#', '');\n\t\t\t\t\tconst isActive = activeSection === sectionId;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tkey={href}\n\t\t\t\t\t\t\thref={href}\n\t\t\t\t\t\t\tonClick={(e) => handleClick(e, href)}\n\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t'transition-colors text-sm font-medium px-2 sm:px-3 py-1 rounded-full cursor-pointer whitespace-nowrap',\n\t\t\t\t\t\t\t\tisActive\n\t\t\t\t\t\t\t\t\t? 'bg-black text-white'\n\t\t\t\t\t\t\t\t\t: 'opacity-60 hover:opacity-100'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{name}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</nav>\n\t);\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}