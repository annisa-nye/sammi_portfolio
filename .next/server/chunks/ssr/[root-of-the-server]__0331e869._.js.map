{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/modica_annisa/Desktop/sammi_portfolio/src/components/Nav.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useCallback } from 'react';\nimport clsx from 'clsx';\nimport Link from 'next/link';\n\nconst navItems = [\n\t{ name: 'Home', href: '#home' },\n\t{ name: 'About', href: '#about' },\n\t{ name: 'Gallery', href: '#gallery' },\n\t{ name: 'CV', href: '#cv' },\n\t{ name: 'Contact', href: '#contact' },\n];\n\nexport default function Nav() {\n\tconst [activeSection, setActiveSection] = useState('home');\n\n\t// Memoize the scroll handler to prevent unnecessary re-renders\n\tconst handleScroll = useCallback(() => {\n\t\tconst scrollPosition = window.scrollY + window.innerHeight / 3;\n\t\tlet currentSection = 'home';\n\t\tlet maxVisibility = 0;\n\n\t\t// Find the section that is currently most visible in the viewport\n\t\tnavItems.forEach(({ href }) => {\n\t\t\tconst section = document.querySelector(href);\n\t\t\tif (section) {\n\t\t\t\tconst { top, bottom, height } = section.getBoundingClientRect();\n\t\t\t\tconst offsetTop = top + window.scrollY;\n\t\t\t\tconst offsetBottom = bottom + window.scrollY;\n\t\t\t\tconst viewportHeight = window.innerHeight;\n\n\t\t\t\t// Calculate how much of the section is visible in the viewport\n\t\t\t\tconst visibleTop = Math.max(0, top);\n\t\t\t\tconst visibleBottom = Math.min(viewportHeight, bottom);\n\t\t\t\tconst visibleHeight = visibleBottom - visibleTop;\n\t\t\t\tconst visibilityRatio = visibleHeight / height;\n\n\t\t\t\t// Special handling for gallery section\n\t\t\t\tif (section.id === 'gallery') {\n\t\t\t\t\t// Check if we're in any of the gallery subsections\n\t\t\t\t\tconst galleryCards = document.querySelectorAll(\n\t\t\t\t\t\t'#gallery .gallery-card'\n\t\t\t\t\t);\n\t\t\t\t\tgalleryCards.forEach((card) => {\n\t\t\t\t\t\tconst cardRect = card.getBoundingClientRect();\n\t\t\t\t\t\tconst cardTop = cardRect.top + window.scrollY;\n\t\t\t\t\t\tconst cardBottom = cardRect.bottom + window.scrollY;\n\n\t\t\t\t\t\tif (scrollPosition >= cardTop && scrollPosition < cardBottom) {\n\t\t\t\t\t\t\t// If we're in a gallery subsection, keep gallery as active\n\t\t\t\t\t\t\tcurrentSection = 'gallery';\n\t\t\t\t\t\t\tmaxVisibility = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// If this section is more visible than the current one, update the active section\n\t\t\t\tif (\n\t\t\t\t\tvisibilityRatio > maxVisibility &&\n\t\t\t\t\tscrollPosition >= offsetTop &&\n\t\t\t\t\tscrollPosition < offsetBottom\n\t\t\t\t) {\n\t\t\t\t\tcurrentSection = section.id;\n\t\t\t\t\tmaxVisibility = visibilityRatio;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tsetActiveSection(currentSection);\n\t}, []);\n\n\tuseEffect(() => {\n\t\t// Set up the Intersection Observer with adjusted margins for better detection\n\t\tconst observer = new IntersectionObserver(\n\t\t\t(entries) => {\n\t\t\t\tentries.forEach((entry) => {\n\t\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\t\t// For gallery section, check if we're in a subsection\n\t\t\t\t\t\tif (entry.target.id === 'gallery') {\n\t\t\t\t\t\t\tconst galleryCards = document.querySelectorAll(\n\t\t\t\t\t\t\t\t'#gallery .gallery-card'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tlet inSubsection = false;\n\n\t\t\t\t\t\t\tgalleryCards.forEach((card) => {\n\t\t\t\t\t\t\t\tconst rect = card.getBoundingClientRect();\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\trect.top <= window.innerHeight / 2 &&\n\t\t\t\t\t\t\t\t\trect.bottom >= window.innerHeight / 2\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tinSubsection = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (inSubsection) {\n\t\t\t\t\t\t\t\tsetActiveSection('gallery');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetActiveSection(entry.target.id);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t{\n\t\t\t\trootMargin: '-20% 0px -80% 0px', // Adjusted margins for better detection\n\t\t\t\tthreshold: [0, 0.25, 0.5, 0.75, 1],\n\t\t\t}\n\t\t);\n\n\t\t// Observe all sections\n\t\tnavItems.forEach(({ href }) => {\n\t\t\tconst section = document.querySelector(href);\n\t\t\tif (section) observer.observe(section);\n\t\t});\n\n\t\t// Add scroll event listener with throttling\n\t\tlet ticking = false;\n\t\tconst scrollListener = () => {\n\t\t\tif (!ticking) {\n\t\t\t\twindow.requestAnimationFrame(() => {\n\t\t\t\t\thandleScroll();\n\t\t\t\t\tticking = false;\n\t\t\t\t});\n\t\t\t\tticking = true;\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener('scroll', scrollListener, { passive: true });\n\t\t// Call once on mount to set initial state\n\t\thandleScroll();\n\n\t\treturn () => {\n\t\t\tobserver.disconnect();\n\t\t\twindow.removeEventListener('scroll', scrollListener);\n\t\t};\n\t}, [handleScroll]);\n\n\tconst handleClick = (\n\t\te: React.MouseEvent<HTMLAnchorElement>,\n\t\thref: string\n\t) => {\n\t\te.preventDefault();\n\t\tconst section = document.querySelector(href);\n\t\tif (section) {\n\t\t\tsection.scrollIntoView({ behavior: 'smooth' });\n\t\t\tsetActiveSection(href.replace('#', ''));\n\t\t}\n\t};\n\n\treturn (\n\t\t<nav className='fixed top-0 left-0 right-0 z-50 bg-white text-black shadow-md px-4 sm:px-6 py-3 sm:py-4 flex justify-center items-center border-b border-gray-100'>\n\t\t\t<div className='flex gap-2 sm:gap-6 text-sm font-medium max-w-screen-sm mx-auto w-full justify-between sm:justify-center'>\n\t\t\t\t{navItems.map(({ name, href }) => {\n\t\t\t\t\tconst sectionId = href.replace('#', '');\n\t\t\t\t\tconst isActive = activeSection === sectionId;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tkey={href}\n\t\t\t\t\t\t\thref={href}\n\t\t\t\t\t\t\tonClick={(e) => handleClick(e, href)}\n\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t'transition-colors text-sm font-medium px-2 sm:px-3 py-1 rounded-full cursor-pointer whitespace-nowrap',\n\t\t\t\t\t\t\t\tisActive\n\t\t\t\t\t\t\t\t\t? 'bg-black text-white'\n\t\t\t\t\t\t\t\t\t: 'opacity-60 hover:opacity-100'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{name}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</nav>\n\t);\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}